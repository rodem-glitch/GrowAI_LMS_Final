/* index.css — GrowAI LMS One-Stop Framework */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ── Root Variables ── */
:root {
  --color-primary: #2563eb;
  --color-secondary: #7c3aed;
  --color-success: #16a34a;
  --color-warning: #d97706;
  --color-danger: #dc2626;
  --color-info: #2563eb;
  --surface-bg: #ffffff;
  --surface-muted: #f8fafc;
  --surface-dim: #f1f5f9;
  --content-primary: #0f172a;
  --content-secondary: #64748b;
  --border-default: #e2e8f0;
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --shadow-card: 0 1px 3px rgba(0,0,0,0.06), 0 1px 2px rgba(0,0,0,0.04);
  --shadow-card-hover: 0 4px 12px rgba(0,0,0,0.08);
  --transition-fast: 150ms ease;
  --transition-normal: 250ms ease;
}

/* ── Base ── */
@layer base {
  html {
    font-family: 'Pretendard Variable', 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  body { @apply text-sm text-gray-800 bg-surface-muted dark:bg-surface-dark dark:text-slate-200; }
  * { scrollbar-width: thin; scrollbar-color: #cbd5e1 transparent; }
  :focus-visible { @apply outline-2 outline-offset-2 outline-primary-500; }
}

/* ── Components ── */
@layer components {
  .page-container { @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6; }

  .card {
    @apply bg-white dark:bg-surface-dark-card rounded-xl p-5
           border border-gray-100 dark:border-slate-800
           shadow-card transition-shadow duration-200;
  }
  .card:hover { box-shadow: var(--shadow-card-hover); }
  .card-muted { @apply bg-surface-muted dark:bg-slate-800/50 rounded-lg border border-gray-100 dark:border-slate-700; }

  .btn { @apply inline-flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 cursor-pointer; }
  .btn-primary { @apply btn bg-primary-600 text-white hover:bg-primary-700 shadow-sm; }
  .btn-secondary { @apply btn bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600; }
  .btn-danger { @apply btn bg-danger-600 text-white hover:bg-danger-500; }
  .btn-ghost { @apply btn text-gray-600 hover:bg-gray-100 dark:text-slate-300 dark:hover:bg-slate-700; }
  .btn-sm { @apply text-xs px-3 py-1.5; }

  .input {
    @apply w-full px-3 py-2 text-sm rounded-lg border border-gray-200 dark:border-slate-700
           bg-white dark:bg-slate-800 text-gray-900 dark:text-white
           focus:ring-2 focus:ring-primary-500 focus:border-transparent
           placeholder-gray-400 transition-colors;
  }
  .input-with-icon { @apply input pl-10; }

  .badge-sm { @apply inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold; }
  .badge-success { @apply bg-success-50 text-success-700 dark:bg-success-600/20 dark:text-success-500; }
  .badge-warning { @apply bg-warning-50 text-warning-600 dark:bg-warning-600/20 dark:text-warning-500; }
  .badge-danger { @apply bg-danger-50 text-danger-600 dark:bg-danger-600/20 dark:text-danger-500; }
  .badge-info { @apply bg-info-50 text-info-600 dark:bg-info-600/20 dark:text-info-500; }
  .badge-gray { @apply bg-gray-100 text-gray-600 dark:bg-slate-700 dark:text-slate-300; }

  .table-container { @apply overflow-x-auto rounded-lg border border-gray-100 dark:border-slate-800; }
  .table-head { @apply bg-surface-muted dark:bg-slate-800 text-[11px] uppercase tracking-wider text-gray-500; }
  .table-th { @apply px-4 py-3 text-left font-semibold; }
  .table-th-center { @apply px-4 py-3 text-center font-semibold; }
  .table-row { @apply border-t border-gray-50 dark:border-slate-800 hover:bg-surface-muted/50 dark:hover:bg-slate-800/50 transition-colors; }
  .table-td { @apply px-4 py-3 text-sm text-gray-700 dark:text-slate-300; }
  .table-td-center { @apply px-4 py-3 text-sm text-center text-gray-700 dark:text-slate-300; }

  .stat-card { @apply card flex flex-col items-center justify-center p-4 text-center; }
  .stat-value { @apply text-2xl font-bold text-gray-900 dark:text-white; }
  .stat-label { @apply text-[10px] text-gray-500 mt-1; }

  .filter-bar { @apply flex items-center gap-1 p-1 bg-gray-100 dark:bg-slate-800 rounded-lg; }
  .filter-chip { @apply px-3 py-1.5 text-xs font-medium rounded-md transition-colors cursor-pointer; }
  .filter-chip-active { @apply bg-white dark:bg-slate-700 text-primary-600 shadow-sm; }
  .filter-chip-inactive { @apply text-gray-500 hover:text-gray-700 dark:text-slate-400; }

  .alert { @apply flex items-start gap-3 p-4 rounded-lg text-sm; }
  .alert-info { @apply bg-info-50 text-info-600 dark:bg-info-600/10 dark:text-info-500; }
  .alert-warning { @apply bg-warning-50 text-warning-600 dark:bg-warning-600/10 dark:text-warning-500; }
  .alert-danger { @apply bg-danger-50 text-danger-600 dark:bg-danger-600/10 dark:text-danger-500; }

  .player-shell {
    @apply bg-gray-900 rounded-xl overflow-hidden;
    aspect-ratio: 16/9;
  }
}

/* ── Utilities ── */
@layer utilities {
  .text-truncate { @apply overflow-hidden text-ellipsis whitespace-nowrap; }
  .scrollbar-hidden { scrollbar-width: none; -ms-overflow-style: none; }
  .scrollbar-hidden::-webkit-scrollbar { display: none; }
}

/* ── Dark mode ── */
.dark { --surface-bg: #0f172a; --surface-muted: #1e293b; --content-primary: #f1f5f9; --border-default: #334155; }

/* ── Portal Auto-Navigation Animations ── */
@keyframes portal-pulse {
  0% { box-shadow: 0 10px 40px rgba(0,0,0,0.15), 0 0 0 0 rgba(255,255,255,0.3); }
  100% { box-shadow: 0 20px 60px rgba(0,0,0,0.25), 0 0 0 8px rgba(255,255,255,0.1); }
}

@keyframes portal-card-enter {
  0% { opacity: 0; transform: translateY(20px) scale(0.95); }
  100% { opacity: 1; transform: translateY(0) scale(1); }
}

@keyframes portal-glow {
  0% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.5); }
  50% { box-shadow: 0 0 20px 4px rgba(59, 130, 246, 0.3); }
  100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.5); }
}

@keyframes portal-slide-right {
  0% { transform: translateX(0); }
  100% { transform: translateX(8px); }
}

@keyframes portal-fade-out {
  0% { opacity: 1; filter: blur(0); transform: scale(1); }
  100% { opacity: 0.3; filter: blur(2px); transform: scale(0.95); }
}

@keyframes modalIn {
  0% { opacity: 0; transform: scale(0.92) translateY(12px); }
  100% { opacity: 1; transform: scale(1) translateY(0); }
}

.animate-portal-pulse {
  animation: portal-pulse 0.8s ease-in-out infinite alternate;
}

.animate-portal-card-enter {
  animation: portal-card-enter 0.6s ease-out both;
}

.animate-portal-glow {
  animation: portal-glow 1.5s ease-in-out infinite;
}

.animate-portal-slide-right {
  animation: portal-slide-right 0.6s ease-in-out infinite alternate;
}

.animate-portal-fade-out {
  animation: portal-fade-out 0.5s ease-out forwards;
}

/* Staggered card entrance */
.portal-card-delay-1 { animation-delay: 0.1s; }
.portal-card-delay-2 { animation-delay: 0.2s; }
.portal-card-delay-3 { animation-delay: 0.3s; }
.portal-card-delay-4 { animation-delay: 0.4s; }

/* ── Print ── */
@media print {
  .no-print { display: none !important; }
  .card { box-shadow: none; border: 1px solid #e2e8f0; }
}

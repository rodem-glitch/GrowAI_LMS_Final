# Agents (계획/리뷰 운영 규칙)

이 문서는 `everything-claude-code/rules/agents.md`의 “복잡한 작업은 계획/리뷰를 분리”하는 아이디어를 참고했습니다.

> Codex CLI에서는 별도 서브에이전트를 띄우기보다, 같은 효과를 내도록 “순서”를 강제합니다.

---

## 1) 복잡한 작업이면 계획부터(강제)
- 여러 파일 수정/DB 변경/화면 영향이 큰 작업이면 `update_plan`으로
  - 해야 할 일
  - 검증 방법
  - 빌드 여부
  를 먼저 정리합니다.

---

## 2) 코드 작성 후 셀프 리뷰(강제)
- “내가 방금 바꾼 게 기존 로직을 깨지 않는가?”를 기준으로 확인합니다.
- 특히 아래를 다시 봅니다:
  - 권한 체크
  - `site_id`, `status` 조건
  - 기존 화면 템플릿 변수 누락
  - 레이스/순서 문제(학사 보정 → 요약 조회 같은 케이스)


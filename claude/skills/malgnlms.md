# skills/malgnlms (MalgnLMS 빠른 작업 지식)

왜 이 문서가 필요한가?
- MalgnLMS는 Service 레이어가 없는 JSP+DAO 레거시 구조가 많아서, 익숙하지 않으면 “어디서 값이 세팅/저장되는지” 놓치기 쉽습니다.

---

## 1) 기본 구조(요약)
- 컨트롤러/로직: `public_html/**.jsp`
- 템플릿(화면): `public_html/**/html/**.html` (Malgn Page 문법)
- DB 접근: `src/dao/*Dao.java` (`DataObject` 기반)

---

## 2) 화면 데이터 흐름(가장 흔한 패턴)
1) JSP에서 DAO로 조회
2) `p.setVar()` / `p.setLoop()`에 값을 담음
3) `p.display()`로 템플릿 렌더링

문제 디버깅할 때는 이 순서대로 따라가면 됩니다.

---

## 3) DB에서 특히 주의할 것
- `site_id` 누락: 멀티사이트 환경이면 잘못된 사이트 데이터가 섞일 수 있습니다.
- `status` 값: `1=정상`, `0=중지`, `-1=삭제` 관례가 많습니다(테이블별 확인 필요).
- “표시값”과 “기준값”이 다를 수 있습니다.
  - 예: 화면에서는 JSON에 저장되는데, 실제 진도 계산은 테이블 컬럼을 기준으로 할 수 있습니다.


<style>
.pop_wrap .pop_title {height:7vh; line-height:7vh;}
.pop_wrap .pop_title span {font-size:3vh; display:inline-block; width:100%; height:100%; overflow:hidden; text-overflow:ellipsis; word-break:break-all;}
.attend_qr {font-weight:bold; font-size:3vh; text-align:center;}
.attend_qr h4 {margin:0; padding:2vh; border:1px solid #428bca; background-color:#428bca; color:#ffffff;}
.attend_qr .qr_image {border:1px solid #d1d1d1;}
.attend_qr .qr_image img {max-width:100%; height:70vh;}
</style>

<!--@nif(qr_block)-->
<form name="form1" method="post" onsubmit="return goSubmit(this);">
<table class="f_tb01" cellpadding="0" cellspacing="0">
	<tr>
		<td class="f_th01">유효기간</td>
		<td class="f_td01">
			<input type="text" name="expire_time" size="5" class="ipt_right"> 분
		</td>
	</tr>
</table>

<table class="b_tb01" border="0">
	<tr>
		<td>
			<button type="button" class="bttn2" onclick="window.close();">취소</button>
		</td>
		<td class="b_td01">
			<button type="submit" class="bttn2">QR코드생성</button>
		</td>
	</tr>
</table>
</form>
{{form_script}}

<script>
function goSubmit(f) {
	if(!validate(f)) return false;
	return true;
}
</script>
<!--/nif(qr_block)-->

<!--@if(qr_block)-->
<div class="attend_qr">
	<h4 class="qr_title">{{valid_time_conv}}까지 유효함</h4>
	<div class="qr_image"><img src="{{qr_url}}"></div>
</div>

<table class="f_tb01" cellpadding="0" cellspacing="0">
	<tr>
		<td class="f_th01">
			출석URL
			<button type="button" class="btn_simp" onclick="copyUrl();">복사</button>
		</td>
		<td class="f_td01">
			<textarea rows="3" style="width:100%; height:80px; word-break:break-all;" readonly="readonly" onclick="copyUrl();">{{attend_url}}</textarea>
		</td>
	</tr>
</table>
<!--/if(qr_block)-->

<script>
	function copyUrl() {
		var copyText = document.querySelector("textarea");
		copyText.select();
		document.execCommand("copy");
		alert("출석URL이 복사되었습니다.");
	}
</script>
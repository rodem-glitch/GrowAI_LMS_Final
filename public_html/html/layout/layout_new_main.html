<!--@include(layout/header.html)-->
<body>
	<style>
		html {
			scroll-behavior: smooth;
		}
		*, *::before, *::after {
			box-sizing: border-box;
		}
		body {
			margin: 0;
			min-width: 0;
		}
		.new-main-fullscreen {
			background: #f9fafb;
			color: #101828;
			font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
			width: 100%;
			max-width: none;
			margin: 0;
			padding: 0;
			overflow-x: hidden;
			text-align: left;
		}
		.nm-page-body {
			max-width: 1200px;
			margin: 0 auto;
			padding: 24px 20px 60px;
			box-sizing: border-box;
		}
		@media (max-width: 576px) {
			.nm-page-body { padding: 20px 16px 50px; }
		}
		*:focus-visible {
			outline: 2px solid #2b58e6;
			outline-offset: 2px;
		}

		/* ========== 뉴메인 헤더/푸터 공통 ========== */
		.nm-header {
			display: flex;
			align-items: center;
			justify-content: space-between;
			padding: 0 24px;
			height: 64px;
			background: #fff;
			border-bottom: 1px solid #e5e7eb;
			position: sticky;
			top: 0;
			z-index: 1000;
		}
		.nm-header__logo {
			display: flex;
			align-items: center;
			gap: 10px;
			text-decoration: none;
			z-index: 1;
		}
		.nm-header__logo img { height: 36px; }
		.nm-header__logo-text {
			font-size: 18px;
			font-weight: 700;
			color: #101828;
		}
		.nm-header__nav {
			position: absolute;
			left: 50%;
			transform: translateX(-50%);
			display: flex;
			align-items: center;
			gap: 8px;
			white-space: nowrap;
		}
		.nm-header__nav-item {
			padding: 10px 16px;
			font-size: 14px;
			font-weight: 500;
			color: #344054;
			text-decoration: none;
			border-radius: 8px;
			transition: all 0.2s;
			cursor: pointer;
			white-space: nowrap;
		}
		.nm-header__nav-item:hover {
			background: #f3f4f6;
			color: #2b58e6;
		}
		.nm-header__nav-item.active {
			color: #2b58e6;
			font-weight: 600;
		}
		.nm-header__dropdown { position: relative; }
		.nm-header__dropdown-toggle {
			padding: 10px 16px;
			font-size: 14px;
			font-weight: 500;
			color: #344054;
			text-decoration: none;
			border-radius: 8px;
			transition: all 0.2s;
			cursor: pointer;
			display: flex;
			align-items: center;
			gap: 4px;
			white-space: nowrap;
		}
		.nm-header__dropdown-toggle:hover {
			background: #f3f4f6;
			color: #2b58e6;
		}
		.nm-header__dropdown-toggle i {
			font-size: 10px;
			transition: transform 0.2s;
		}
		.nm-header__dropdown:hover .nm-header__dropdown-toggle i {
			transform: rotate(180deg);
		}
		.nm-header__dropdown-menu {
			position: absolute;
			top: 100%;
			left: 0;
			min-width: 180px;
			background: #fff;
			border-radius: 12px;
			box-shadow: 0 10px 40px rgba(0,0,0,0.15);
			padding: 8px 0;
			opacity: 0;
			visibility: hidden;
			transform: translateY(10px);
			transition: all 0.2s;
			z-index: 1000;
		}
		.nm-header__dropdown:hover .nm-header__dropdown-menu,
		.nm-header__dropdown-menu:focus-within {
			opacity: 1;
			visibility: visible;
			transform: translateY(0);
		}
		.nm-header__dropdown-item {
			display: block;
			padding: 10px 20px;
			font-size: 14px;
			color: #344054;
			text-decoration: none;
			transition: all 0.2s;
		}
		.nm-header__dropdown-item:hover {
			background: #f3f4f6;
			color: #2b58e6;
		}
		.nm-header__actions {
			display: flex;
			align-items: center;
			gap: 12px;
		}
		.nm-header__icon-btn {
			width: 40px;
			height: 40px;
			display: flex;
			align-items: center;
			justify-content: center;
			border: none;
			background: transparent;
			border-radius: 50%;
			cursor: pointer;
			color: #667085;
			font-size: 18px;
			transition: all 0.2s;
		}
		.nm-header__icon-btn:hover {
			background: #f3f4f6;
			color: #2b58e6;
		}
		.nm-header__user {
			position: relative;
			display: flex;
			align-items: center;
			gap: 8px;
			padding: 6px 12px;
			background: #f3f4f6;
			border-radius: 20px;
			font-size: 14px;
			color: #344054;
			cursor: pointer;
		}
		.nm-header__user-menu {
			position: absolute;
			top: 100%;
			right: 0;
			margin-top: 8px;
			min-width: 160px;
			background: #fff;
			border-radius: 12px;
			box-shadow: 0 10px 40px rgba(0,0,0,0.15);
			padding: 8px 0;
			opacity: 0;
			visibility: hidden;
			transform: translateY(10px);
			transition: all 0.2s;
			z-index: 1000;
		}
		.nm-header__user:hover .nm-header__user-menu,
		.nm-header__user-menu:focus-within {
			opacity: 1;
			visibility: visible;
			transform: translateY(0);
		}
		.nm-header__user-menu-item {
			display: flex;
			align-items: center;
			gap: 10px;
			padding: 10px 16px;
			font-size: 14px;
			color: #344054;
			text-decoration: none;
			transition: all 0.15s;
		}
		.nm-header__user-menu-item:hover {
			background: #f3f4f6;
			color: #2b58e6;
		}
		.nm-header__user-menu-item--danger {
			color: #dc2626;
		}
		.nm-header__user-menu-item--danger:hover {
			background: #fef2f2;
			color: #dc2626;
		}
		.nm-header__user-avatar {
			width: 28px;
			height: 28px;
			background: linear-gradient(135deg, #2b58e6, #8e44ad);
			border-radius: 50%;
			display: flex;
			align-items: center;
			justify-content: center;
			color: #fff;
			font-size: 12px;
			font-weight: 600;
		}
		.nm-header__login-btn {
			padding: 8px 16px;
			background: linear-gradient(135deg, #2b58e6, #8e44ad);
			color: #fff;
			border: none;
			border-radius: 8px;
			font-size: 14px;
			font-weight: 500;
			cursor: pointer;
			transition: all 0.2s;
		}
		.nm-header__login-btn:hover {
			transform: translateY(-1px);
			box-shadow: 0 4px 12px rgba(43, 88, 230, 0.3);
		}
		.nm-header__mobile-btn {
			display: none;
			width: 40px;
			height: 40px;
			align-items: center;
			justify-content: center;
			border: none;
			background: transparent;
			border-radius: 8px;
			cursor: pointer;
			font-size: 20px;
			color: #344054;
		}
		@media (max-width: 992px) {
			.nm-header__nav { display: none; }
			.nm-header__mobile-btn { display: flex; }
		}

		.nm-footer {
			background: #1e293b;
			color: #94a3b8;
			padding: 48px 0 0;
			margin-top: auto;
			width: 100%;
		}
		.nm-footer__container {
			max-width: 1200px;
			margin: 0 auto;
			padding: 0 24px;
		}
		.nm-footer__main { padding-bottom: 32px; }
		.nm-footer__title {
			font-size: 20px;
			font-weight: 700;
			color: #fff;
			margin-bottom: 16px;
		}
		.nm-footer__desc {
			font-size: 14px;
			line-height: 1.7;
			max-width: 500px;
		}
		.nm-footer__desc-highlight { color: #a78bfa; }
		.nm-footer__social {
			display: flex;
			gap: 16px;
			margin-top: 24px;
		}
		.nm-footer__social a {
			width: 36px;
			height: 36px;
			background: #334155;
			border-radius: 50%;
			display: flex;
			align-items: center;
			justify-content: center;
			color: #94a3b8;
			text-decoration: none;
			transition: all 0.2s;
		}
		.nm-footer__social a:hover {
			background: #4f46e5;
			color: #fff;
		}
		.nm-footer__bottom {
			border-top: 1px solid #334155;
			padding: 20px 0;
			display: flex;
			justify-content: space-between;
			align-items: center;
			flex-wrap: wrap;
			gap: 16px;
		}
		.nm-footer__copyright { font-size: 13px; }
		.nm-footer__links {
			display: flex;
			gap: 24px;
		}
		.nm-footer__links a {
			font-size: 13px;
			color: #94a3b8;
			text-decoration: none;
			transition: color 0.2s;
		}
		.nm-footer__links a:hover { color: #fff; }

		/* 로그인 모달 */
		.nm-modal-overlay {
			display: none;
			position: fixed;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: rgba(0, 0, 0, 0.5);
			backdrop-filter: blur(4px);
			z-index: 9999;
			align-items: center;
			justify-content: center;
		}
		.nm-modal-overlay.active { display: flex; }
		.nm-login-modal {
			width: 100%;
			max-width: 420px;
			background: #fff;
			border-radius: 24px;
			box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
			overflow: hidden;
			animation: modalSlideIn 0.3s ease;
		}
		@keyframes modalSlideIn {
			from { opacity: 0; transform: translateY(-20px) scale(0.95); }
			to { opacity: 1; transform: translateY(0) scale(1); }
		}
		.nm-login-modal__header {
			background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 50%, #a855f7 100%);
			padding: 32px 32px 28px;
			text-align: center;
			color: #fff;
		}
		.nm-login-modal__logo {
			font-size: 28px;
			font-weight: 800;
			margin-bottom: 8px;
		}
		.nm-login-modal__subtitle { font-size: 14px; opacity: 0.9; }
		.nm-login-modal__body { padding: 32px; }
		.nm-login-modal__field { margin-bottom: 20px; }
		.nm-login-modal__label {
			display: block;
			font-size: 14px;
			font-weight: 600;
			color: #344054;
			margin-bottom: 8px;
		}
		.nm-login-modal__input {
			width: 100%;
			padding: 14px 16px;
			border: 2px solid #e5e7eb !important;
			border-radius: 12px;
			font-size: 16px;
			background: #f9fafb !important;
			transition: all 0.2s;
			outline: none;
			height: auto !important;
			margin: 0 !important;
		}
		.nm-login-modal__input:focus {
			border-color: #4f46e5 !important;
			background: #fff !important;
			box-shadow: 0 0 0 4px rgba(79, 70, 229, 0.1);
		}
		.nm-login-modal__submit {
			width: 100%;
			padding: 16px;
			background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
			color: #fff;
			border: none;
			border-radius: 12px;
			font-size: 16px;
			font-weight: 600;
			cursor: pointer;
			transition: all 0.2s;
			margin-top: 8px;
		}
		.nm-login-modal__submit:hover {
			transform: translateY(-2px);
			box-shadow: 0 8px 20px rgba(79, 70, 229, 0.3);
		}
		.nm-login-modal__close {
			position: absolute;
			top: 16px;
			right: 16px;
			width: 36px;
			height: 36px;
			background: rgba(255, 255, 255, 0.2);
			border: none;
			border-radius: 50%;
			color: #fff;
			font-size: 20px;
			cursor: pointer;
			display: flex;
			align-items: center;
			justify-content: center;
			transition: all 0.2s;
		}
		.nm-login-modal__close:hover { background: rgba(255, 255, 255, 0.3); }
		.nm-login-modal__footer {
			text-align: center;
			padding: 20px 32px 28px;
			border-top: 1px solid #e5e7eb;
			background: #f9fafb;
		}
		.nm-login-modal__footer a {
			color: #6b7280;
			font-size: 14px;
			text-decoration: none;
			margin: 0 12px;
		}
		.nm-login-modal__footer a:hover { color: #4f46e5; }
		.nm-login-modal__error {
			background: #fef2f2;
			color: #dc2626;
			padding: 12px 16px;
			border-radius: 8px;
			font-size: 14px;
			margin-bottom: 16px;
			display: none;
		}
	</style>

	<div class="new-main-fullscreen">
		<header class="nm-header">
			<a href="/mypage/new_main/" class="nm-header__logo">
				<img src="/html/images/demo/logo_plism.png" alt="PLISM" onerror="this.style.display='none'">
				<span class="nm-header__logo-text">PLISM</span>
			</a>

			<nav class="nm-header__nav">
				<a href="/mypage/new_main/" class="nm-header__nav-item">홈</a>
				<a href="/mypage/index.jsp" class="nm-header__nav-item">나의강의실</a>
				<div class="nm-header__dropdown">
					<span class="nm-header__dropdown-toggle">이러닝 <i class="bi bi-chevron-down"></i></span>
					<div class="nm-header__dropdown-menu">
						<a href="/course/course_list.jsp?cid=133" class="nm-header__dropdown-item">폴리텍 콘텐츠</a>
						<a href="javascript:void(0)" class="nm-header__dropdown-item" onclick="alert('메뉴 연결 예정')">개설과목</a>
						<a href="javascript:void(0)" class="nm-header__dropdown-item" onclick="alert('메뉴 연결 예정')">프리클래스</a>
					</div>
				</div>
				<div class="nm-header__dropdown">
					<span class="nm-header__dropdown-toggle">전자도서관 <i class="bi bi-chevron-down"></i></span>
					<div class="nm-header__dropdown-menu">
						<a href="https://kopo.dkyobobook.co.kr/main.ink" target="_blank" class="nm-header__dropdown-item">교보문고 전자책</a>
						<a href="https://kopo.yes24library.com/" target="_blank" class="nm-header__dropdown-item">YES24 전자책</a>
						<a href="http://kopo.arasoft.net/" target="_blank" class="nm-header__dropdown-item">멀티미디어 디지털 교재</a>
					</div>
				</div>
				<a href="/mypage/new_main/job.jsp" class="nm-header__nav-item">채용</a>
				<a href="javascript:void(0)" class="nm-header__nav-item" onclick="alert('메뉴 연결 예정')">이용안내</a>
			</nav>

			<div class="nm-header__actions">
				<button type="button" class="nm-header__icon-btn" onclick="alert('알림 기능 연결 예정')" title="알림">
					<i class="bi bi-bell"></i>
				</button>
				<!--@if(login_block)-->
				<div class="nm-header__user">
					<div class="nm-header__user-avatar">{{SYS_USERNAME_INITIAL}}</div>
					<span>{{SYS_USERNAME}}</span>
					<i class="bi bi-chevron-down" style="font-size:10px; margin-left:2px;"></i>
					<div class="nm-header__user-menu">
						<a href="/mypage/index.jsp" class="nm-header__user-menu-item">
							<i class="bi bi-person"></i> 마이페이지
						</a>
						<a href="/mypage/modify.jsp" class="nm-header__user-menu-item">
							<i class="bi bi-gear"></i> 정보수정
						</a>
						<hr style="margin: 6px 0; border: none; border-top: 1px solid #e5e7eb;">
						<a href="/member/logout.jsp?return_url=/mypage/new_main/" class="nm-header__user-menu-item nm-header__user-menu-item--danger">
							<i class="bi bi-box-arrow-right"></i> 로그아웃
						</a>
					</div>
				</div>
				<!--/if(login_block)-->
				<!--@nif(login_block)-->
				<button type="button" class="nm-header__login-btn" onclick="openLoginModal()">로그인</button>
				<!--/nif(login_block)-->
				<button type="button" class="nm-header__mobile-btn" onclick="alert('모바일 메뉴 연결 예정')">
					<i class="bi bi-list"></i>
				</button>
			</div>
		</header>

		<div class="nm-page-body">
			<!--@include(BODY)-->
		</div>

		<footer class="nm-footer">
			<div class="nm-footer__container">
				<div class="nm-footer__main">
					<h3 class="nm-footer__title">한국폴리텍대학 직업교육연구원</h3>
					<p class="nm-footer__desc">
						<span class="nm-footer__desc-highlight">미래지향적인 교육 콘텐츠</span> 개발과 정책연구를 통해 대한민국 직업교육의
						<span class="nm-footer__desc-highlight">새로운 길을 열어갑니다</span>.
					</p>
					<div class="nm-footer__social">
						<a href="https://www.youtube.com/channel/UCDlUa248Pg7_e4V-vwT5V8A" target="_blank" title="YouTube"><i class="bi bi-youtube"></i></a>
					</div>
				</div>
				<div class="nm-footer__bottom">
					<p class="nm-footer__copyright">ⓒ 2025 한국폴리텍대학 직업교육연구원. All Rights Reserved.</p>
					<div class="nm-footer__links">
						<a href="/etc/privacy.jsp">개인정보처리방침</a>
						<a href="/etc/term.jsp">이용약관</a>
					</div>
				</div>
			</div>
		</footer>
	</div>

	<!-- 로그인 모달 -->
	<div class="nm-modal-overlay" id="loginModal" onclick="closeLoginModal(event)">
		<div class="nm-login-modal" onclick="event.stopPropagation()" style="position: relative;">
			<div class="nm-login-modal__header">
				<button type="button" class="nm-login-modal__close" onclick="closeLoginModal()">&times;</button>
				<div class="nm-login-modal__logo">PLISM</div>
				<div class="nm-login-modal__subtitle">미래형 직업교육 플랫폼에 오신 것을 환영합니다</div>
			</div>
			<form id="loginForm" method="post" action="/member/login.jsp" target="loginFrame" onsubmit="return submitLogin()">
				<input type="hidden" name="returl" value="/mypage/new_main/">
				<div class="nm-login-modal__body">
					<div id="loginError" class="nm-login-modal__error"></div>
					<div class="nm-login-modal__field">
						<label class="nm-login-modal__label" for="login_id">아이디</label>
						<input type="text" id="login_id" name="id" class="nm-login-modal__input" placeholder="아이디를 입력하세요" required>
					</div>
					<div class="nm-login-modal__field">
						<label class="nm-login-modal__label" for="login_passwd">비밀번호</label>
						<input type="password" id="login_passwd" name="passwd" class="nm-login-modal__input" placeholder="비밀번호를 입력하세요" required>
					</div>
					<button type="submit" class="nm-login-modal__submit">로그인</button>
				</div>
			</form>
			<div class="nm-login-modal__footer">
				<a href="/member/find_id.jsp">아이디 찾기</a>
				<a href="/member/find_passwd.jsp">비밀번호 찾기</a>
				<a href="/member/regist.jsp">회원가입</a>
			</div>
		</div>
	</div>
	<iframe name="loginFrame" id="loginFrame" style="display:none;"></iframe>

	<script>
	function openLoginModal() {
		document.getElementById('loginModal').classList.add('active');
		document.getElementById('login_id').focus();
		document.body.style.overflow = 'hidden';
	}
	function closeLoginModal(event) {
		if (event && event.target !== document.getElementById('loginModal')) return;
		document.getElementById('loginModal').classList.remove('active');
		document.body.style.overflow = '';
		document.getElementById('loginForm').reset();
		document.getElementById('loginError').style.display = 'none';
	}
	function submitLogin() {
		var id = document.getElementById('login_id').value.trim();
		var passwd = document.getElementById('login_passwd').value;
		if (!id || !passwd) {
			showLoginError('아이디와 비밀번호를 입력해주세요.');
			return false;
		}
		setTimeout(function() { location.reload(); }, 500);
		return true;
	}
	function showLoginError(message) {
		var errorDiv = document.getElementById('loginError');
		errorDiv.textContent = message;
		errorDiv.style.display = 'block';
	}
	function resetPassword() {
		document.getElementById('login_passwd').value = '';
		document.getElementById('login_passwd').focus();
	}
	document.addEventListener('keydown', function(e) {
		if (e.key === 'Escape' && document.getElementById('loginModal').classList.contains('active')) {
			closeLoginModal();
		}
	});
	</script>
</body>
</html>
